<div class="inline-drawer">
    <div class="inline-drawer-toggle inline-drawer-header">
        <b style="flex: 1; text-align: center;">The Spell Book</b>
        <div class="inline-drawer-icon fa-solid fa-circle-chevron-down down"></div>
    </div>
    <div class="inline-drawer-content">
        <!-- Enable/Disable -->
        <div class="sb-settings-section" style="margin-bottom: 15px;">
            <div style="display: flex; align-items: center; justify-content: space-between;">
                <label style="font-weight: 600; cursor: pointer;" for="sb-enable-toggle">Enable Extension</label>
                <input type="checkbox" id="sb-enable-toggle" style="cursor: pointer;">
            </div>
            <small style="display: block; margin-top: 4px; opacity: 0.7;">
                Toggle the entire extension on or off.
            </small>
        </div>

        <!-- Font Size -->
        <div class="sb-settings-section" style="margin-bottom: 15px;">
            <label style="font-weight: 600; margin-bottom: 4px; display: block;">Font Size: <span
                    id="sb-font-scale-value">100%</span></label>
            <input type="range" id="sb-font-scale" min="0.7" max="1.3" step="0.05" value="1.0" style="width: 100%;">
        </div>

        <!-- Window Opacity -->
        <div class="sb-settings-section" style="margin-bottom: 15px;">
            <label style="font-weight: 600; margin-bottom: 4px; display: block;">Window Opacity: <span
                    id="sb-opacity-value">85%</span></label>
            <input type="range" id="sb-opacity" min="0.1" max="1.0" step="0.05" value="0.85" style="width: 100%;">
        </div>

        <!-- Always On Top -->
        <div class="sb-settings-section" style="margin-bottom: 15px;">
            <div style="display: flex; align-items: center; justify-content: space-between;">
                <label style="font-weight: 600; cursor: pointer;" for="sb-always-on-top-toggle">Always On Top</label>
                <input type="checkbox" id="sb-always-on-top-toggle" style="cursor: pointer;">
            </div>
            <small style="display: block; margin-top: 4px; opacity: 0.7;">
                Float above character cards (Z=3003).
            </small>
        </div>

        <!-- Enforce Top Boundary -->
        <div class="sb-settings-section" style="margin-bottom: 15px;">
            <div style="display: flex; align-items: center; justify-content: space-between;">
                <label style="font-weight: 600; cursor: pointer;" for="sb-enforce-top-toggle">Enforce Top
                    Boundary</label>
                <div style="display: flex; align-items: center; gap: 8px;">
                    <input type="number" id="sb-top-offset" class="text_pole"
                        style="width: 45px; text-align:center; padding:2px;" placeholder="70" title="Offset in pixels">
                    <input type="checkbox" id="sb-enforce-top-toggle" style="cursor: pointer;">
                </div>
            </div>
            <small style="display: block; margin-top: 4px; opacity: 0.7;">
                Prevents window from going under ST top bar.
            </small>
        </div>

        <!-- Enforce Bottom Boundary -->
        <div class="sb-settings-section" style="margin-bottom: 15px;">
            <div style="display: flex; align-items: center; justify-content: space-between;">
                <label style="font-weight: 600; cursor: pointer;" for="sb-enforce-bottom-toggle">Enforce Bottom
                    Boundary</label>
                <div style="display: flex; align-items: center; gap: 8px;">
                    <input type="number" id="sb-bottom-offset" class="text_pole"
                        style="width: 45px; text-align:center; padding:2px;" placeholder="50" title="Buffer in pixels">
                    <input type="checkbox" id="sb-enforce-bottom-toggle" style="cursor: pointer;">
                </div>
            </div>
            <small style="display: block; margin-top: 4px; opacity: 0.7;">
                Prevents window from going behind chat box (elastic resize).
            </small>
        </div>

        <!-- Enforce Left Boundary -->
        <div class="sb-settings-section" style="margin-bottom: 15px;">
            <div style="display: flex; align-items: center; justify-content: space-between;">
                <label style="font-weight: 600; cursor: pointer;" for="sb-enforce-left-toggle">Enforce Left
                    Boundary</label>
                <div style="display: flex; align-items: center; gap: 8px;">
                    <input type="number" id="sb-left-offset" class="text_pole"
                        style="width: 45px; text-align:center; padding:2px;" placeholder="0">
                    <input type="checkbox" id="sb-enforce-left-toggle" style="cursor: pointer;">
                </div>
            </div>
            <small style="display: block; margin-top: 4px; opacity: 0.7;">
                Prevents window from going off-screen to the left.
            </small>
        </div>

        <!-- Enforce Right Boundary -->
        <div class="sb-settings-section" style="margin-bottom: 15px;">
            <div style="display: flex; align-items: center; justify-content: space-between;">
                <label style="font-weight: 600; cursor: pointer;" for="sb-enforce-right-toggle">Enforce Right
                    Boundary</label>
                <div style="display: flex; align-items: center; gap: 8px;">
                    <input type="number" id="sb-right-offset" class="text_pole"
                        style="width: 45px; text-align:center; padding:2px;" placeholder="0">
                    <input type="checkbox" id="sb-enforce-right-toggle" style="cursor: pointer;">
                </div>
            </div>
            <small style="display: block; margin-top: 4px; opacity: 0.7;">
                Prevents window from going off-screen to the right.
            </small>
        </div>

        <!-- Book Mode -->
        <div class="sb-settings-section" style="margin-bottom: 15px;">
            <div style="display: flex; align-items: center; justify-content: space-between;">
                <label style="font-weight: 600; cursor: pointer;" for="sb-book-mode-toggle">Book Mode
                    (Pagination)</label>
                <input type="checkbox" id="sb-book-mode-toggle" style="cursor: pointer;">
            </div>
        </div>

        <!-- Page Animation -->
        <div class="sb-settings-section" style="margin-bottom: 15px;">
            <div style="display: flex; align-items: center; justify-content: space-between;">
                <label style="font-weight: 600; cursor: pointer;" for="sb-page-flip-toggle">Page Animation</label>
                <input type="checkbox" id="sb-page-flip-toggle" style="cursor: pointer;">
            </div>
            <div id="sb-flip-settings-ext" style="display: none; margin-top: 8px;">
                <select id="sb-flip-style" class="text_pole" style="width: 100%; margin-bottom: 8px;">
                    <option value="flip">Flip</option>
                    <option value="fade">Fade</option>
                    <option value="slide">Slide</option>
                </select>
                <div style="display: flex; align-items: center; justify-content: space-between;">
                    <label style="font-weight: 600; font-size: 0.9em;">Speed (s)</label>
                    <input type="number" id="sb-flip-speed" class="text_pole" step="0.1" min="0.1" max="2.0"
                        placeholder="0.2" style="width: 60px;">
                </div>
            </div>
        </div>

        <!-- Auto-Paginate -->
        <div class="sb-settings-section" style="margin-bottom: 15px;">
            <div style="display: flex; align-items: center; justify-content: space-between;">
                <label style="font-weight: 600; cursor: pointer;" for="sb-auto-paginate-toggle">Auto-Paginate Long
                    Entries</label>
                <input type="checkbox" id="sb-auto-paginate-toggle" style="cursor: pointer;">
            </div>
            <div id="sb-paginate-settings-ext" style="display: none; margin-top: 8px;">
                <input type="number" id="sb-paginate-limit" class="text_pole" placeholder="Character limit"
                    style="width: 100%;">
            </div>
        </div>

        <hr style="border: none; border-top: 1px solid var(--SmartThemeBorderColor); margin: 15px 0;">

        <!-- Default Category -->
        <div class="sb-settings-section" style="margin-bottom: 15px;">
            <label style="font-weight: 600; margin-bottom: 4px; display: block;">Default Category</label>
            <select id="sb-default-cat-select" class="text_pole" style="width: 100%;">
                <!-- Populated by JS -->
            </select>
        </div>

        <!-- Theme Color -->
        <div class="sb-settings-section" style="margin-bottom: 15px;">
            <div style="display: flex; align-items: center; justify-content: space-between;">
                <label style="font-weight: 600;">Theme Color</label>
                <div style="display: flex; gap: 8px; align-items: center;">
                    <span id="sb-theme-reset"
                        style="font-size: 0.75rem; opacity: 0.7; cursor: pointer; text-decoration: underline;">Reset</span>
                    <input type="color" id="sb-theme-color-picker" style="cursor: pointer; height: 24px; width: 40px;">
                </div>
            </div>
        </div>

        <hr style="border: none; border-top: 1px solid var(--SmartThemeBorderColor); margin: 15px 0;">

        <!-- Category Shortcuts -->
        <div class="sb-settings-section" style="margin-bottom: 15px;">
            <label style="font-weight: 600; margin-bottom: 8px; display: block;">Category Shortcuts</label>
            <div id="sb-shortcut-list">
                <!-- Populated by JS -->
            </div>
            <small style="display: block; margin-top: 8px; opacity: 0.7;">
                Click input and press keys to bind.
            </small>
        </div>

        <hr style="border: none; border-top: 1px solid var(--SmartThemeBorderColor); margin: 15px 0;">

        <!-- Data Backup -->
        <div class="sb-settings-section" style="margin-bottom: 15px;">
            <label style="font-weight: 600; margin-bottom: 8px; display: block;">Data Backup</label>
            <div style="display: flex; gap: 8px; flex-wrap: wrap;">
                <div id="spell-book-export-btn" class="menu_button">
                    <i class="fa-solid fa-download"></i> Export
                </div>
                <div id="spell-book-import-btn" class="menu_button">
                    <i class="fa-solid fa-upload"></i> Import
                </div>
            </div>
        </div>

        <hr style="border: none; border-top: 1px solid var(--SmartThemeBorderColor); margin: 15px 0;">

        <!-- Danger Zone -->
        <div class="sb-settings-section">
            <label style="font-weight: 600; margin-bottom: 8px; display: block;">Danger Zone</label>
            <div id="spell-book-reset" class="menu_button">
                <i class="fa-solid fa-trash"></i> Reset to Defaults
            </div>
        </div>
    </div>
</div>